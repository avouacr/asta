---
title: "module1"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{module1}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(asta)
library(questionr)
library(dplyr)
library(kableExtra)
library(DT)
library(ggplot2)
library(plotly)
library(rAmCharts)
```

# Statistique descriptive univariée

## Sur une qualitative

```{r}
#Fonction pour faire apparaître un tri à plat


#Exemple
a <- tri_plat(grandile,"LIB_PCS") 

#Fonction pour mettre en forme le tableau
a %>% DT::datatable(class = "cell-border hover order-colum")


```


```{r}

# Préparation table pour un amBarPlot 
a <- freq(grandile$PCS,valid = FALSE) 
b <-rownames(a)
c <- cbind(a,b) %>% as.data.frame() %>% rename(label = b,value = n) %>% select(label,value)


#Prépation pour un amPie
a <- freq(grandile$LIB_PCS,valid = FALSE) 
b <-rownames(a)
c <- cbind(a,b) %>% as.data.frame() %>% rename(label = b,value = n) %>% select(label,value)

rAmCharts::amBarplot(x = "PCS",y = "Effectifs",data = c,legend=TRUE)
rAmCharts::amPie(c,show_values = TRUE)

#Graphique
a <- grandile %>% ggplot(aes(x = PCS)) + 
  geom_bar(aes(col = LIB_PCS)) 

a %>% ggplotly

```


